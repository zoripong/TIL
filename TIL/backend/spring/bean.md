# IoC Container
## DI
- Dependency Injection
- 객체를 직접 생성하는 것이 아닌 외부에서 생성한 후 주입시켜주는 방식
- 모듈 간의 결합도가 낮아지고 유연성이 높아진다.

## IoC
- Inversion of Control, 제어의 역전
- 메소드나 객체의 호출작업을 개발자가 결정하는 것이 아니라 외부에서 결정되는 것

- 기존 실행 순서
  - 객체 생성
  - 의존성 객체가 클래스 내부에서 생성
  - 의존성 객체 메소드 호출
- 스프링의 실행 순서
  - 객체 생성
  - 의존성 객체 생성
    - 스프링이 만들어놓은 객체를 주입하도록 위임한다.
  - 의존성 객체 메소드 호출

- 스프링이 모든 의존성 객체를 스프링이 실행될 때 만들어두고 필요한 곳에 주입시켜준다.
  - Bean은 기본적으로 싱글턴 패턴의 특징을 가지게 된다.

- 객체의 생명주기를 프레임워크에서 처리하도록 하여 객체들은 각자의 역할에만 신경쓸 수 있도록 할 수 있다.

# Bean
- Spring IoC 컨테이너가 관리하는 자바 객체
- @Bean 어노테이션을 이용해서 정의하거나, @Component, @Service와 같은 어노테이션을 통해서 정의할 수 있다.
- scope를 통해 생성 주기를 설정할 수 있다.
- 일반적으로 비즈니스 로직별로 그룹핑된 configuration class에 정의하는 것을 지향한다.

# @Bean vs @Component, @Service, @Repository

- @Bean
  - setter나 builder 등을 통해서 사용자가 프로퍼티를 변경해서 생성한 인스턴스를 스프링에게 관리하도록 함
  - 외부 라이브러리를 Bean으로 등록하고 싶은 경우에도 사용할 수 있음
  - method에 어노테이션 적용 가능
- @Component, @Service, @Repository
  - 클래스를 스프링에게 생성한 후 bean으로 등록하도록 함
  - 클래스에 어노테이션 적용 가능
